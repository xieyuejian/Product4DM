Ext.define("Ext.srm.form.BidTriggerField",{extend:"Ext.ux.form.TriggerField",alias:"bidtrigger",xtype:"bidtrigger",alternateClassName:["Ext.srm.form.BidTriggerField"],triggerAction:"all",clearable:true,editable:false,singleSelect:true,baseParams:{},renderToId:"",parentObj:null,parentXtype:"",fieldMapping:{},getSelectWin:function(){var D=this;D.getParentObj();var F=D.parentObj.findParentByType("panel");var E=Ext.create("Ext.srm.window.BidSelectWin",{renderTo:F.id||D.renderToId,singleSelect:true,baseParams:D.baseParams,select:function(A,B){if(!D.singleSelect&&B&&B.lenght>0){Ext.Array.each(B,function(C,H){if(D.parentXtype.indexOf("form")){D.dealForm(A,B)}else{D.dealGrid(A,B)}})}else{if(D.parentXtype.indexOf("form")){D.dealForm(A,B)}else{D.dealGrid(A,B)}}}});return E},getParentObj:function(){var D=this;var C=null;if(!D.parentObj){D.parentObj=D.findParentByType(Ext.form.Panel);if(!D.parentObj){D.parentObj=D.findParentByType(Ext.grid.Panel)}}if(D.parentObj){D.parentXtype=D.parentObj.getXType()}},dealForm:function(H,F){var E=this;var G=E.parentObj.getForm();if(E.fieldMapping){Ext.Object.each(E.fieldMapping,function(B,C){var A=G.findField(B);if(A){A.setValue(F.get(C))}else{}})}},dealGrid:function(H,F){var G=this;var E=G.parentObj.getSelectionModel().getSelection();if(G.fieldMapping&&E&&E[0]){Ext.Object.each(G.fieldMapping,function(A,B){E.set(A,F.get(B))})}},listeners:{trigger:function(C){var D=this;if(C.disabled==false){D.getSelectWin().show()}}},constructor:function(C){var D=this;var C=C||{};this.callParent([C])}});